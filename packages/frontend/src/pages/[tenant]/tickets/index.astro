---
import Layout from "@/layouts/Layout.astro";
import Header from "@/components/header/Header.astro";
import Main from "@/components/main/Main.astro";

import InnerHeader from "./_components/innerHeader/InnerHeader.astro";
import InnerMain from "./_components/innerMain/InnerMain.astro";

import TicketList from "./_components/react/ticketList/TicketList";

import { getSupabaseBrowserClient } from "@/utils/supabase/browserClient";

(async function () {
    const supabase = getSupabaseBrowserClient(Astro);
    const result = await supabase.storage.listBuckets();
    console.log(result);
})();
---

<Layout>
    <Header />
    <Main>
        <InnerHeader>
            <h2>tickets system</h2>
        </InnerHeader>
        <InnerMain>
            <TicketList client:idle />
        </InnerMain>
    </Main>
</Layout>
