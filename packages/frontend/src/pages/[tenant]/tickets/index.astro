---
import Layout from "@/layouts/Layout.astro";
import Header from "@/components/header/Header.astro";
import Main from "@/components/main/Main.astro";

import TicketList from "./_components/react/ticketList/TicketList";

import { getSupabaseBrowserClient } from "@/utils/supabase/browserClient";

(async function () {
    const supabase = getSupabaseBrowserClient(Astro);
    const result = await supabase.storage.listBuckets();
    console.log(result);
})();
---

<Layout>
    <Header />
    <Main>
        <header class="w-full">
            <h2 class="text-xl">tickets system</h2>
        </header>
        <main class="flex-row-center flex-1">
            <TicketList client:idle />
        </main>
    </Main>
</Layout>
